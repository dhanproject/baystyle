<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>In Memory of Bayu</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}

:root{
  --accent:#4361ee;
  --accent2:#7c3aed;
  --accent-light:#eef2ff;
  --green:#22c55e;
  --orange:#f97316;
  --pink:#ec4899;
  --teal:#14b8a6;
  --bg:#f0f2f8;
  --card:#ffffff;
  --text:#1a1d2e;
  --text2:#6b7280;
  --text3:#b0b7c3;
  --border:#e4e7f0;
  --radius:22px;
  --radius-sm:14px;
  --sh:0 2px 20px rgba(67,97,238,0.08),0 1px 4px rgba(0,0,0,0.04);
  --sh-md:0 8px 40px rgba(67,97,238,0.13),0 2px 10px rgba(0,0,0,0.06);
  --sh-lg:0 24px 64px rgba(67,97,238,0.18),0 8px 24px rgba(0,0,0,0.08);
  --spring:cubic-bezier(0.34,1.56,0.64,1);
  --ease:cubic-bezier(0.4,0,0.2,1);
  --ease-out:cubic-bezier(0,0,0.2,1);
}
[data-theme="dark"]{
  --accent:#6d83f2;
  --accent-light:#1e2240;
  --bg:#0f1120;
  --card:#181b2e;
  --text:#f0f4ff;
  --text2:#8892b0;
  --text3:#4a5270;
  --border:#252840;
  --sh:0 2px 20px rgba(0,0,0,0.4);
  --sh-md:0 8px 40px rgba(0,0,0,0.5);
  --sh-lg:0 24px 64px rgba(0,0,0,0.6);
}

html{scroll-behavior:smooth;}
body{
  font-family:'DM Sans',sans-serif;
  background:var(--bg);color:var(--text);
  min-height:100vh;overflow-x:hidden;
  transition:background 0.4s var(--ease),color 0.4s var(--ease);
  -webkit-font-smoothing:antialiased;
}

.app-shell{max-width:430px;margin:0 auto;min-height:100vh;position:relative;overflow:hidden;}

/* ── PAGES: smooth fade+slide transition ── */
.page{
  position:absolute;inset:0;
  overflow-y:auto;overflow-x:hidden;
  padding-bottom:88px;
  opacity:0;
  transform:translateY(16px);
  pointer-events:none;
  transition:opacity 0.38s var(--ease-out),transform 0.38s var(--ease-out);
  will-change:transform,opacity;
  background:var(--bg);
  -webkit-overflow-scrolling:touch;
}
.page.active{opacity:1;transform:translateY(0);pointer-events:auto;}

/* ── TOPBAR ── */
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:54px 22px 14px;
  position:sticky;top:0;z-index:40;
  background:var(--bg);
  transition:background 0.35s var(--ease),box-shadow 0.3s var(--ease),backdrop-filter 0.35s;
}
.topbar.scrolled{
  background:rgba(240,242,248,0.85);
  backdrop-filter:blur(22px) saturate(1.6);
  box-shadow:0 1px 0 var(--border);
}
[data-theme="dark"] .topbar.scrolled{background:rgba(15,17,32,0.88);}
.topbar-left{display:flex;align-items:center;gap:12px;}
.avatar{
  width:42px;height:42px;border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--pink));
  display:flex;align-items:center;justify-content:center;
  font-size:1.2rem;font-weight:700;color:#fff;
  box-shadow:0 3px 12px rgba(67,97,238,0.3);
  flex-shrink:0;overflow:hidden;cursor:pointer;
  transition:transform 0.35s var(--spring),box-shadow 0.25s;
  will-change:transform;
}
.avatar:active{transform:scale(0.88);}
.avatar img{width:100%;height:100%;object-fit:cover;}
.topbar-greeting h1{font-family:'DM Serif Display',serif;font-size:1.3rem;font-weight:400;color:var(--text);line-height:1.2;}
.topbar-greeting p{font-size:0.75rem;color:var(--text2);margin-top:1px;}
.topbar-actions{display:flex;align-items:center;gap:8px;}
.icon-btn{
  width:38px;height:38px;border-radius:50%;
  background:var(--card);border:1.5px solid var(--border);color:var(--text);
  display:flex;align-items:center;justify-content:center;
  font-size:1rem;cursor:pointer;box-shadow:var(--sh);
  transition:transform 0.35s var(--spring),background 0.25s var(--ease),border-color 0.25s,box-shadow 0.25s;
  will-change:transform;
}
.icon-btn:hover{background:var(--accent);color:#fff;border-color:var(--accent);transform:scale(1.1);box-shadow:0 6px 20px rgba(67,97,238,0.35);}
.icon-btn:active{transform:scale(0.88);}
.icon-btn.primary{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 4px 16px rgba(67,97,238,0.4);}

/* ── STATS ── */
.stats-bar{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:0 22px 20px;}
.stat-card{
  background:var(--card);border-radius:var(--radius-sm);padding:14px 10px;
  box-shadow:var(--sh);text-align:center;border:1px solid var(--border);
  transition:transform 0.4s var(--spring),box-shadow 0.3s var(--ease);
  will-change:transform;cursor:default;
}
.stat-card:hover{transform:translateY(-5px) scale(1.03);box-shadow:var(--sh-md);}
.stat-icon{font-size:1.25rem;margin-bottom:5px;display:block;transition:transform 0.4s var(--spring);}
.stat-card:hover .stat-icon{transform:scale(1.22) rotate(-6deg);}
.stat-num{font-size:1.15rem;font-weight:700;color:var(--text);line-height:1;}
.stat-label{font-size:0.6rem;color:var(--text2);margin-top:3px;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;}

/* ── SECTION HEADER ── */
.section-header{display:flex;align-items:center;justify-content:space-between;padding:0 22px 10px;}
.section-title{font-size:0.95rem;font-weight:700;color:var(--text);}
.section-link{
  font-size:0.7rem;font-weight:600;color:var(--accent);cursor:pointer;
  background:var(--accent-light);padding:5px 13px;border-radius:100px;border:none;font-family:inherit;
  transition:background 0.25s,color 0.25s,transform 0.35s var(--spring);
  will-change:transform;
}
.section-link:hover{background:var(--accent);color:#fff;transform:scale(1.05);}
.section-link:active{transform:scale(0.93);}

/* ── TRIBUTE ── */
.tribute-card{
  margin:0 22px 20px;
  background:linear-gradient(135deg,#1a1d2e 0%,#2d1b69 100%);
  border-radius:var(--radius);padding:22px;color:#fff;
  position:relative;overflow:hidden;
  box-shadow:0 10px 40px rgba(45,27,105,0.35);
  transition:transform 0.42s var(--spring),box-shadow 0.3s var(--ease);
  will-change:transform;
}
.tribute-card:hover{transform:translateY(-5px) scale(1.01);box-shadow:0 20px 60px rgba(45,27,105,0.5);}
.tribute-card::before{content:'✦';position:absolute;top:14px;right:18px;font-size:2.5rem;opacity:0.12;animation:starFloat 4s ease-in-out infinite;}
@keyframes starFloat{0%,100%{transform:translateY(0) rotate(0deg);}50%{transform:translateY(-7px) rotate(12deg);}}
.tribute-card h3{font-family:'DM Serif Display',serif;font-size:1.15rem;font-weight:400;margin-bottom:8px;}
.tribute-card p{font-size:0.75rem;opacity:0.72;line-height:1.65;}
.tribute-years{font-size:0.6rem;margin-top:12px;opacity:0.45;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;}

/* ── FEATURE SCROLL ── */
.feature-scroll{display:flex;gap:12px;padding:0 22px 20px;overflow-x:auto;scrollbar-width:none;-webkit-overflow-scrolling:touch;}
.feature-scroll::-webkit-scrollbar{display:none;}
.feature-card{
  flex-shrink:0;width:200px;height:130px;border-radius:var(--radius);
  overflow:hidden;position:relative;cursor:pointer;
  box-shadow:var(--sh-md);
  transition:transform 0.42s var(--spring),box-shadow 0.3s var(--ease);
  will-change:transform;
}
.feature-card:hover{transform:scale(1.05) translateY(-5px);box-shadow:var(--sh-lg);}
.feature-card:active{transform:scale(0.96);}
.feature-card img{width:100%;height:100%;object-fit:cover;transition:transform 0.65s var(--ease);}
.feature-card:hover img{transform:scale(1.1);}
.feature-card-overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,0.72) 0%,transparent 55%);}
.feature-card-label{position:absolute;bottom:10px;left:12px;color:#fff;font-size:0.72rem;font-weight:600;display:flex;align-items:center;gap:6px;}
.live-dot{
  width:7px;height:7px;border-radius:50%;
  background:var(--green);
  animation:livePulse 2s infinite;
}
@keyframes livePulse{0%{box-shadow:0 0 0 0 rgba(34,197,94,0.5);}70%{box-shadow:0 0 0 6px rgba(34,197,94,0);}100%{box-shadow:0 0 0 0 rgba(34,197,94,0);}}
.feature-card-add{
  flex-shrink:0;width:130px;height:130px;border-radius:var(--radius);
  border:2px dashed var(--border);display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:6px;cursor:pointer;background:var(--card);
  transition:border-color 0.3s,background 0.3s,transform 0.42s var(--spring);
  will-change:transform;
}
.feature-card-add:hover{border-color:var(--accent);background:var(--accent-light);transform:scale(1.06);}
.feature-card-add:active{transform:scale(0.93);}
.feature-card-add span{font-size:1.6rem;transition:transform 0.4s var(--spring);}
.feature-card-add:hover span{transform:scale(1.25) rotate(12deg);}
.feature-card-add p{font-size:0.67rem;color:var(--text2);font-weight:600;}

/* ── ROOM TABS ── */
.room-tabs{display:flex;gap:8px;padding:0 22px 16px;overflow-x:auto;scrollbar-width:none;}
.room-tabs::-webkit-scrollbar{display:none;}
.room-tab{
  flex-shrink:0;padding:8px 18px;border-radius:100px;
  font-size:0.76rem;font-weight:600;
  border:1.5px solid var(--border);background:var(--card);color:var(--text2);
  cursor:pointer;font-family:inherit;white-space:nowrap;
  transition:background 0.28s,color 0.28s,border-color 0.28s,transform 0.38s var(--spring),box-shadow 0.28s;
  will-change:transform;
}
.room-tab.active{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 5px 18px rgba(67,97,238,0.35);transform:translateY(-2px);}
.room-tab:hover:not(.active){border-color:var(--accent);color:var(--accent);transform:translateY(-2px);}
.room-tab:active{transform:scale(0.93) translateY(0);}

/* ── DEVICE GRID ── */
.device-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:0 22px 20px;}
.device-card{
  background:var(--card);border-radius:var(--radius-sm);padding:14px 12px;
  box-shadow:var(--sh);border:1px solid var(--border);
  cursor:pointer;display:flex;flex-direction:column;gap:5px;
  transition:transform 0.42s var(--spring),box-shadow 0.3s var(--ease),background 0.3s;
  will-change:transform;
}
.device-card:hover{transform:translateY(-6px) scale(1.03);box-shadow:var(--sh-md);}
.device-card:active{transform:scale(0.92) translateY(0);}
.device-card.on{border-color:transparent;}
.device-card.on.blue{background:linear-gradient(135deg,var(--accent),#7c8ff5);color:#fff;}
.device-card.on.orange{background:linear-gradient(135deg,var(--orange),#fbbf24);color:#fff;}
.device-card.on.teal{background:linear-gradient(135deg,var(--teal),#34d399);color:#fff;}
.device-card.on.pink{background:linear-gradient(135deg,var(--pink),#f472b6);color:#fff;}
.device-icon{font-size:1.3rem;transition:transform 0.42s var(--spring);}
.device-card:hover .device-icon{transform:scale(1.3) rotate(-10deg);}
.device-name{font-size:0.7rem;font-weight:700;}
.device-val{font-size:0.6rem;opacity:0.72;}
.device-toggle{
  align-self:flex-end;width:28px;height:16px;border-radius:100px;
  background:rgba(255,255,255,0.25);position:relative;cursor:pointer;
  transition:background 0.3s var(--ease);
}
.device-toggle::after{
  content:'';position:absolute;top:2px;left:2px;width:12px;height:12px;
  border-radius:50%;background:#fff;box-shadow:0 1px 4px rgba(0,0,0,0.2);
  transition:left 0.3s var(--spring);
}
.device-toggle.on::after{left:14px;}
.device-toggle.off{background:var(--border);}
.device-toggle.off::after{background:var(--text3);}

/* ── UPLOAD ── */
.upload-area{
  margin:0 22px 18px;border:2px dashed var(--border);border-radius:var(--radius);
  padding:26px 20px;text-align:center;cursor:pointer;background:var(--card);
  transition:border-color 0.3s,background 0.3s,transform 0.38s var(--spring),box-shadow 0.3s;
  will-change:transform;
}
.upload-area:hover,.upload-area.drag-over{border-color:var(--accent);background:var(--accent-light);transform:scale(1.01);box-shadow:0 0 0 4px rgba(67,97,238,0.1);}
.upload-icon{font-size:2rem;margin-bottom:8px;display:block;transition:transform 0.42s var(--spring);}
.upload-area:hover .upload-icon{transform:translateY(-7px) scale(1.12);}
.upload-title{font-size:0.85rem;font-weight:700;color:var(--text);margin-bottom:4px;}
.upload-sub{font-size:0.7rem;color:var(--text2);margin-bottom:14px;}
.upload-btn{
  display:inline-flex;align-items:center;gap:6px;
  background:var(--accent);color:#fff;padding:9px 22px;border-radius:100px;
  font-size:0.75rem;font-weight:700;border:none;cursor:pointer;font-family:inherit;
  box-shadow:0 4px 16px rgba(67,97,238,0.35);
  transition:background 0.25s,transform 0.38s var(--spring),box-shadow 0.25s;
  will-change:transform;
}
.upload-btn:hover{background:var(--accent2);transform:translateY(-2px) scale(1.04);box-shadow:0 8px 24px rgba(67,97,238,0.45);}
.upload-btn:active{transform:scale(0.93);}
.progress-wrap{margin-top:14px;display:none;}
.progress-bar{height:5px;background:var(--border);border-radius:100px;overflow:hidden;}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--teal));border-radius:100px;width:0%;transition:width 0.4s var(--ease);}
.progress-label{font-size:0.68rem;color:var(--text2);margin-top:6px;font-weight:600;}

/* ── SEARCH ── */
.search-bar{
  margin:0 22px 14px;background:var(--card);border:1.5px solid var(--border);
  border-radius:100px;display:flex;align-items:center;gap:10px;padding:10px 16px;
  box-shadow:var(--sh);
  transition:border-color 0.25s,box-shadow 0.25s;
}
.search-bar:focus-within{border-color:var(--accent);box-shadow:0 0 0 3px rgba(67,97,238,0.12),var(--sh);}
.search-bar span{font-size:1rem;color:var(--text2);}
.search-bar input{border:none;background:transparent;font-family:inherit;font-size:0.82rem;color:var(--text);flex:1;outline:none;}
.search-bar input::placeholder{color:var(--text3);}

/* ── FILTER PILLS ── */
.filter-pills{display:flex;gap:6px;padding:0 22px 14px;overflow-x:auto;scrollbar-width:none;}
.filter-pills::-webkit-scrollbar{display:none;}
.filter-pill{
  flex-shrink:0;padding:6px 14px;border-radius:100px;font-size:0.69rem;font-weight:600;
  border:1.5px solid var(--border);background:var(--card);color:var(--text2);
  cursor:pointer;font-family:inherit;white-space:nowrap;
  transition:background 0.25s,color 0.25s,border-color 0.25s,transform 0.38s var(--spring);
  will-change:transform;
}
.filter-pill.active{background:var(--accent);color:#fff;border-color:var(--accent);}
.filter-pill:hover:not(.active){border-color:var(--accent);color:var(--accent);transform:translateY(-2px);}
.filter-pill:active{transform:scale(0.9);}

/* ── GALLERY ── */
.gallery-controls{display:flex;align-items:center;padding:0 22px 10px;}
.gallery-controls .section-title{flex:1;}
.layout-btns{display:flex;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:3px;gap:2px;box-shadow:var(--sh);}
.lbtn{
  width:28px;height:28px;border-radius:7px;border:none;
  background:transparent;color:var(--text2);font-size:0.68rem;font-weight:800;
  cursor:pointer;font-family:inherit;display:flex;align-items:center;justify-content:center;
  transition:background 0.25s,color 0.25s,transform 0.35s var(--spring);
  will-change:transform;
}
.lbtn.active{background:var(--accent);color:#fff;}
.lbtn:hover:not(.active){background:var(--bg);color:var(--text);}
.lbtn:active{transform:scale(0.85);}

.gallery-wrap{padding:0 22px 20px;}
.photo-masonry{columns:2;column-gap:10px;}
.photo-masonry.col1{columns:1;}
.photo-masonry.col3{columns:3;}

/* ── PHOTO ITEM ── */
.photo-item{
  break-inside:avoid;margin-bottom:10px;border-radius:14px;overflow:hidden;
  position:relative;cursor:pointer;box-shadow:var(--sh);
  background:var(--card);
  animation:itemIn 0.5s var(--ease-out) both;
  transition:transform 0.42s var(--spring),box-shadow 0.3s var(--ease);
  will-change:transform;
}
@keyframes itemIn{from{opacity:0;transform:translateY(18px) scale(0.96);}to{opacity:1;transform:translateY(0) scale(1);}}
.photo-item:hover{transform:translateY(-6px) scale(1.02);box-shadow:var(--sh-lg);}
.photo-item:active{transform:scale(0.96);}
.photo-item img{width:100%;height:auto;display:block;transition:transform 0.65s var(--ease);}
.photo-item:hover img{transform:scale(1.08);}
.photo-overlay{
  position:absolute;inset:0;
  background:linear-gradient(to top,rgba(15,17,38,0.82) 0%,transparent 55%);
  opacity:0;transition:opacity 0.3s var(--ease);
  display:flex;flex-direction:column;justify-content:flex-end;padding:10px;
}
.photo-item:hover .photo-overlay{opacity:1;}
.photo-date{font-size:0.58rem;color:rgba(255,255,255,0.65);font-weight:500;margin-bottom:5px;}
.photo-actions{display:flex;gap:4px;}
.photo-act-btn{
  background:rgba(255,255,255,0.14);border:1px solid rgba(255,255,255,0.22);
  color:#fff;padding:3px 8px;border-radius:100px;font-size:0.58rem;font-weight:700;
  cursor:pointer;backdrop-filter:blur(8px);font-family:inherit;
  transition:background 0.22s,color 0.22s,transform 0.35s var(--spring);
  will-change:transform;
}
.photo-act-btn:hover{background:rgba(255,255,255,0.9);color:var(--text);transform:scale(1.1);}
.photo-act-btn:active{transform:scale(0.88);}
.photo-act-btn.del:hover{background:#ef4444;border-color:#ef4444;color:#fff;}

/* ── BOTTOM NAV ── */
.bottom-nav{
  position:fixed;bottom:0;left:50%;transform:translateX(-50%);
  width:100%;max-width:430px;
  background:rgba(255,255,255,0.88);
  backdrop-filter:blur(26px) saturate(1.8);
  border-top:1px solid rgba(0,0,0,0.06);
  display:flex;align-items:stretch;z-index:100;
  box-shadow:0 -8px 40px rgba(67,97,238,0.08);
  padding-bottom:env(safe-area-inset-bottom,0);
  transition:background 0.4s var(--ease);
}
[data-theme="dark"] .bottom-nav{background:rgba(24,27,46,0.92);border-top-color:rgba(255,255,255,0.06);}
.nav-item{
  flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:3px;padding:12px 8px;
  cursor:pointer;border:none;background:transparent;font-family:inherit;
  color:var(--text2);position:relative;
  transition:color 0.25s var(--ease);
  -webkit-tap-highlight-color:transparent;
}
.nav-icon-wrap{transition:transform 0.38s var(--spring);will-change:transform;}
.nav-item:active .nav-icon-wrap{transform:scale(0.82);}
.nav-item.active .nav-icon-wrap{transform:translateY(-3px);}
.nav-item.active{color:var(--accent);}
.nav-item.active::before{
  content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);
  width:28px;height:3px;border-radius:0 0 6px 6px;background:var(--accent);
  animation:tabIndicator 0.35s var(--spring);
}
@keyframes tabIndicator{from{transform:translateX(-50%) scaleX(0);}to{transform:translateX(-50%) scaleX(1);}}
.nav-icon{font-size:1.3rem;line-height:1;display:block;}
.nav-label{font-size:0.58rem;font-weight:600;letter-spacing:0.02em;}
.nav-badge{
  position:absolute;top:8px;right:14px;
  background:var(--accent);color:#fff;font-size:0.5rem;font-weight:800;
  min-width:15px;height:15px;border-radius:100px;
  display:flex;align-items:center;justify-content:center;padding:0 3px;
  box-shadow:0 2px 6px rgba(67,97,238,0.4);
  animation:badgePop 0.4s var(--spring);
}
@keyframes badgePop{from{transform:scale(0);}to{transform:scale(1);}}

/* ── PAGE HEADER ── */
.page-header{padding:54px 22px 16px;}
.page-header h2{font-family:'DM Serif Display',serif;font-size:1.4rem;font-weight:400;color:var(--text);}
.page-sub{font-size:0.72rem;color:var(--text2);margin-top:3px;}

/* ── SETTINGS ── */
.settings-section{margin:0 22px 18px;}
.settings-label{font-size:0.62rem;font-weight:700;color:var(--text2);letter-spacing:0.08em;text-transform:uppercase;margin-bottom:8px;padding:0 4px;}
.settings-group{background:var(--card);border-radius:var(--radius);border:1px solid var(--border);overflow:hidden;box-shadow:var(--sh);}
.settings-item{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 16px;border-bottom:1px solid var(--border);cursor:pointer;
  transition:background 0.22s var(--ease);
}
.settings-item:last-child{border-bottom:none;}
.settings-item:hover{background:var(--bg);}
.settings-item:active{background:var(--accent-light);}
.si-left{display:flex;align-items:c
